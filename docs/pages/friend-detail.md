# Friend Detail

**Роут:** `friends/[id]`

## Назначение

Сравнение прогресса по упражнениям с конкретным другом.

## Сценарий (S3)

Открыть друга → выбрать упражнение → раскрывается двулинейный график "я vs друг"

## Содержимое экрана

- Аватар, имя и username друга
- Переключатель режима графика: **absolute** / **ratio** (применяется глобально ко всем раскрытым упражнениям)
- Список упражнений, по которым хотя бы один из двух имеет историю
- У каждого упражнения — лучший 1RM каждого (сводка)
- По клику на упражнение — раскрывается двулинейный график сравнения (я = белая линия, друг = лаймовая линия)

## График

### Absolute mode (по умолчанию)

Ось Y — значение 1RM в кг. Точки по каждой дате тренировки.

### Ratio mode

Ось Y — относительная сила: `1RM / масса тела`. Рассчитывается для каждого участника независимо, используя ближайшую запись массы тела на дату тренировки или раньше.

Если у обоих участников нет записей массы тела — показывается сообщение с призывом добавить вес в профиле.

## Переходы

| Действие | Куда |
|----------|------|
| Назад | `/friends` |

## Модель данных

| Сущность | Поля |
|----------|------|
| `User` | `id`, `name`, `username` |
| `SetEntry` | `workoutExerciseId`, `order`, `weightKg`, `reps` |
| `BodyWeightEntry` | `userId`, `date`, `weightKg` |

## API

`GET /api/friends/[id]/exercises/[exerciseId]` — возвращает `Comparison`:
- `mine.points` + `mine.bodyWeights` — серия 1RM и записи массы тела текущего пользователя
- `friend.points` + `friend.bodyWeights` — аналогично для друга
